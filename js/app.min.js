(()=>{"use strict";const e={};let t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};let s=(e,t=500,s=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!s,!s&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!s&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))}),t))},l=(e,t=500,s=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,s&&e.style.removeProperty("height");let l=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=l+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))}),t)}},a=(e,t=500)=>e.hidden?l(e,t):s(e,t);let i={getErrors(e){let t=0,s=e.querySelectorAll("*[data-required]");return s.length&&s.forEach((e=>{null===e.offsetParent&&"SELECT"!==e.tagName||e.disabled||(t+=this.validateInput(e))})),t},validateInput(e){let t=0;return"email"===e.dataset.required?(e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),t++):this.removeError(e)):("checkbox"!==e.type||e.checked)&&e.value?this.removeError(e):(this.addError(e),t++),t},addError(e){e.classList.add("_form-error"),e.parentElement.classList.add("_form-error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t),e.dataset.error&&e.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${e.dataset.error}</div>`)},removeError(e){e.classList.remove("_form-error"),e.parentElement.classList.remove("_form-error"),e.parentElement.querySelector(".form__error")&&e.parentElement.removeChild(e.parentElement.querySelector(".form__error"))},formClean(t){t.reset(),setTimeout((()=>{let s=t.querySelectorAll("input,textarea");for(let e=0;e<s.length;e++){const t=s[e];t.parentElement.classList.remove("_form-focus"),t.classList.remove("_form-focus"),i.removeError(t)}let l=t.querySelectorAll(".checkbox__input");if(l.length>0)for(let e=0;e<l.length;e++){l[e].checked=!1}if(e.select){let s=t.querySelectorAll(".select");if(s.length)for(let t=0;t<s.length;t++){const l=s[t].querySelector("select");e.select.selectBuild(l)}}}),0)},emailTest:e=>!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)};e.select=new class{constructor(e,t=null){if(this.config=Object.assign({init:!0,logging:!0},e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"_select-disabled",classSelectTag:"_select-tag",classSelectOpen:"_select-open",classSelectActive:"_select-active",classSelectFocus:"_select-focus",classSelectMultiple:"_select-multiple",classSelectCheckBox:"_select-checkbox",classSelectOptionSelected:"_select-selected",classSelectPseudoLabel:"_select-pseudo-label"},this._this=this,this.config.init){const e=t?document.querySelectorAll(t):document.querySelectorAll("select");e.length?(this.selectsInit(e),this.setLogging(`Проснулся, построил селектов: (${e.length})`)):this.setLogging("Сплю, нет ни одного select zzZZZzZZz")}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach(((e,t)=>{this.selectInit(e,t+1)})),document.addEventListener("click",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("keydown",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusin",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusout",function(e){this.selectsActions(e)}.bind(this))}selectInit(e,t){const s=this;let l=document.createElement("div");if(l.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(l,e),l.appendChild(e),e.hidden=!0,t&&(e.dataset.id=t),this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show)){this.getSelectElement(l,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)}l.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.speed=e.dataset.speed?e.dataset.speed:"150",e.addEventListener("change",(function(e){s.selectChange(e)}))}selectBuild(e){const t=e.parentElement;t.dataset.id=e.dataset.id,t.classList.add(e.getAttribute("class")?`select_${e.getAttribute("class")}`:""),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-search")&&this.searchActions(t),e.hasAttribute("data-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type;if(t.closest(this.getSelectClass(this.selectClasses.classSelect))||t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const l=t.closest(".select")?t.closest(".select"):document.querySelector(`.${this.selectClasses.classSelect}[data-id="${t.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`),a=this.getSelectElement(l).originalSelect;if("click"===s){if(!a.disabled)if(t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),s=document.querySelector(`.${this.selectClasses.classSelect}[data-id="${e.dataset.selectId}"] .select__option[data-value="${e.dataset.value}"]`);this.optionAction(l,a,s)}else if(t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)))this.selectAction(l);else if(t.closest(this.getSelectClass(this.selectClasses.classSelectOption))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));this.optionAction(l,a,e)}}else"focusin"===s||"focusout"===s?t.closest(this.getSelectClass(this.selectClasses.classSelect))&&("focusin"===s?l.classList.add(this.selectClasses.classSelectFocus):l.classList.remove(this.selectClasses.classSelectFocus)):"keydown"===s&&"Escape"===e.code&&this.selectsСlose()}else this.selectsСlose()}selectsСlose(e){const t=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);t.length&&t.forEach((e=>{this.selectСlose(e)}))}selectСlose(e){const t=this.getSelectElement(e).originalSelect,l=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;l.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),s(l,t.dataset.speed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;if(t.closest("[data-one-select]")){const e=t.closest("[data-one-select]");this.selectsСlose(e)}s.classList.contains("_slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),a(s,t.dataset.speed))}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,l=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;l&&l.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t))}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-tags")&&(s=this.getSelectedOptionsData(t).elements.map((t=>`<span role="button" data-select-id="${e.dataset.id}" data-value="${t.value}" class="_select-tag">${this.getSelectElementContent(t)}</span>`)).join(""),t.dataset.tags&&document.querySelector(t.dataset.tags)&&(document.querySelector(t.dataset.tags).innerHTML=s,t.hasAttribute("data-search")&&(s=!1))),s=s.length?s:t.dataset.placeholder?t.dataset.placeholder:"";let l="",a="";if(t.hasAttribute("data-pseudo-label")&&(l=t.dataset.pseudoLabel?` data-pseudo-label="${t.dataset.pseudoLabel}"`:' data-pseudo-label="Заполните атрибут"',a=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${l} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const e=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.class?` ${this.getSelectedOptionsData(t).elements[0].dataset.class}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${l} class="${this.selectClasses.classSelectValue}${a}"><span class="${this.selectClasses.classSelectContent}${e}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.asset?`${e.dataset.asset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let l="";return l+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",l+=t?`<span class="${this.selectClasses.classSelectData}">`:"",l+=t?s:"",l+=t?"</span>":"",l+=t?`<span class="${this.selectClasses.classSelectText}">`:"",l+=e.textContent,l+=t?"</span>":"",l+=t?"</span>":"",l}getSelectPlaceholder(e){const t=Array.from(e.options).find((e=>!e.value));if(t)return{value:t.textContent,show:t.hasAttribute("data-show"),label:{show:t.hasAttribute("data-label"),text:t.dataset.label}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter((e=>e.value)).filter((e=>e.selected)):s.push(e.options[e.selectedIndex]),{elements:s.map((e=>e)),values:s.filter((e=>e.value)).map((e=>e.value)),html:s.map((e=>this.getSelectElementContent(e)))}}getOptions(e){let t=e.hasAttribute("data-scroll")?"data-simplebar":"",s=e.dataset.scroll?`style="max-height:${e.dataset.scroll}px"`:"",l=Array.from(e.options);if(l.length>0){let a="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(l=l.filter((e=>e.value))),a+=t?`<div ${t} ${s} class="${this.selectClasses.classSelectOptionsScroll}">`:"",l.forEach((t=>{a+=this.getOption(t,e)})),a+=t?"</div>":"",a}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",l=!e.selected||t.hasAttribute("data-show-selected")||t.multiple?"":"hidden",a=e.dataset.class?` ${e.dataset.class}`:"",i=!!e.dataset.href&&e.dataset.href,r=e.hasAttribute("data-href-blank")?'target="_blank"':"";let c="";return c+=i?`<a ${r} ${l} href="${i}" data-value="${e.value}" class="${this.selectClasses.classSelectOption}${a}${s}">`:`<button ${l} class="${this.selectClasses.classSelectOption}${a}${s}" data-value="${e.value}" type="button">`,c+=this.getSelectElementContent(e),c+=i?"</a>":"</button>",c}setOptions(e,t){this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement.innerHTML=this.getOptions(t)}optionAction(e,t,s){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);this.getSelectedOptionsData(t).elements.forEach((e=>{e.removeAttribute("selected")}));e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected)).forEach((e=>{t.querySelector(`option[value="${e.dataset.value}"]`).setAttribute("selected","selected")}))}else t.hasAttribute("data-show-selected")||(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`)&&(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden=!1),s.hidden=!0),t.value=s.hasAttribute("data-value")?s.dataset.value:s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-validate")&&i.validateInput(e),e.hasAttribute("data-submit")&&e.value){let t=document.createElement("button");t.type="submit",e.closest("form").append(t),t.click(),t.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){this.getSelectElement(e).originalSelect;const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,l=s.querySelectorAll(`.${this.selectClasses.classSelectOption}`),a=this;t.addEventListener("input",(function(){l.forEach((e=>{e.textContent.toUpperCase().indexOf(t.value.toUpperCase())>=0?e.hidden=!1:e.hidden=!0})),!0===s.hidden&&a.selectAction(e)}))}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}setLogging(e){this.config.logging&&function(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}(`[select]: ${e}`)}}({});let r=!1;setTimeout((()=>{if(r){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".mainscreen__media")){const e=document.querySelector(".mainscreen__media video"),t=t=>{switch(t.type){case"play":e.parentElement.classList.add("_active");break;case"pause":e.parentElement.classList.remove("_active")}};["play","pause"].forEach((s=>e.addEventListener(s,t))),e.parentElement.addEventListener("click",(t=>{console.log("click"),e.paused&&t.target.classList.contains("mainscreen__media")&&e.play()})),e.parentElement.addEventListener("touchend",(t=>{e.paused&&t.target.closest(".mainscreen__media")?e.play():e.pause()}))}const e=document.querySelector(".langs");function t(){if(t.isRun)return;t.isRun=!0;const e=document.querySelectorAll("[data-filter]");if(e.length){function s(e){e.forEach((e=>{e.classList.add("_filter-init"),l(e)}))}function l(e){const t=e.querySelector("[data-filter-nav]");t&&t.addEventListener("click",a)}function a(e){if(!e.target.dataset.filterButton)return!1;e.preventDefault();const t=e.target.closest("[data-filter]"),s=t.querySelector("[data-filter-body]"),l=t.querySelectorAll("[data-filter-card]"),a=t.querySelector("[data-filter-nav]"),i=a?Array.from(a.querySelectorAll("[data-filter-button]")):[],r={variables:{multiple:!1,priceArray:[],activeButton:0,arrActiveItems:[]},values:{all:"all",multiple:"multiple",sort:["less","more","popular"]},classes:{activeClass:"_active"},attr:{sortAttr:"data-sort-filter",priceAttr:"data-filter-price"}};if(e.target.classList.contains("_active")&&("multiple"!==e.target.closest("[data-filter-nav]").dataset.filterNav||r.values.sort.filter((t=>t===e.target.dataset.filterButton)).length))return!1;function c(t,l){l.forEach(((l,a,c)=>{const n=l.dataset.filterCard,o=!Array.isArray(t)&&"all"===t.toLowerCase(),d=(l.dataset.filterPrice||l.querySelector("[data-filter-price]")||s.querySelectorAll("[data-filter-price]").length||s.querySelectorAll("[data-filter-popular]").length)&&r.values.sort.filter((t=>t===e.target.dataset.filterButton.toLowerCase())).length;let h;if(d)if(console.log(d,e.target.dataset.filterButton),l.dataset.filterPrice?h=l.dataset.filterPrice:l.querySelector("[data-filter-price]")&&(h=l.querySelector("[data-filter-price]").dataset.filterPrice),h&&r.variables.priceArray.push(h),h&&"popular"!==t)l.setAttribute("data-sort-filter",h);else{let e,s=[];switch(h||c.forEach((t=>{t.dataset.filterPrice?e=t.dataset.filterPrice:t.querySelector("[data-filter-price]")&&(e=t.querySelector("[data-filter-price]").dataset.filterPrice),e&&s.push(e)})),t){case"less":l.setAttribute("data-sort-filter",Math.max(...s)+1);break;case"more":l.setAttribute("data-sort-filter",Math.min(...s)-1);break;case"popular":l.setAttribute("data-sort-filter",l.hasAttribute("data-filter-popular")?1:0)}}if(r.variables.multiple&&!d){const e=t.filter((e=>"all"===e)).length;if(1===r.variables.activeButton&&e)return;t.filter((e=>e==n)).length?l.setAttribute("data-sort-filter",0):e&&1!==r.variables.activeButton?(i.forEach((e=>e.classList.remove("_active"))),l.setAttribute("data-sort-filter",a)):l.setAttribute("data-sort-filter",-1)}else d||r.variables.priceArray.length||(t==n?l.setAttribute("data-sort-filter",0):l.setAttribute("data-sort-filter",-1),o&&l.setAttribute("data-sort-filter",a));s.classList.contains("adaptive-grid-active")||(n===t||o?(l.style.removeProperty("visibility"),l.style.removeProperty("height"),l.style.removeProperty("width"),l.style.removeProperty("font-size"),l.style.removeProperty("margin"),l.style.removeProperty("padding"),l.style.removeProperty("position")):(l.style.visibility="hidden",l.style.height=0,l.style.width=0,l.style.fontSize=0,l.style.margin=0,l.style.padding=0,l.style.position="absolute"))}))}function n(e,t){return t.parentNode.insertBefore(e,t.nextSibling)}i.length&&("multiple"!==a.dataset.filterNav||r.values.sort.filter((t=>t===e.target.dataset.filterButton.toLowerCase())).length?(r.variables.multiple=!1,i.forEach((t=>{t.classList.remove("_active"),e.target.classList.add("_active"),l.length&&t.classList.contains("_active")&&c(e.target.dataset.filterButton,l)}))):(r.variables.multiple=!0,e.target.classList.toggle("_active"),l.length&&i.forEach(((e,t,s)=>{r.values.sort.filter((t=>t===e.dataset.filterButton)).length&&e.classList.remove("_active"),e.classList.contains("_active")&&(r.variables.activeButton++,r.variables.arrActiveItems.push(e.dataset.filterButton)),t===s.length-1&&(0===r.variables.activeButton&&r.variables.arrActiveItems.push("all"),c(r.variables.arrActiveItems,l))})))),"all"!=e.target.dataset.filterButton||1!==r.variables.activeButton?function(e,t,s,l){for(let a=0;a<t.children.length;a++)if(s||r.variables.priceArray.length)if(r.variables.priceArray.length){console.log("price",l);for(let s=a;s<t.children.length;s++)if("less"==l){if(console.log("less"),+t.children[a].getAttribute(e)>+t.children[s].getAttribute(e)){n(t.replaceChild(t.children[s],t.children[a]),t.children[a])}}else if("more"==l){if(console.log("more"),+t.children[a].getAttribute(e)<+t.children[s].getAttribute(e)){n(t.replaceChild(t.children[s],t.children[a]),t.children[a])}}else if(console.log("other"),+t.children[a].getAttribute(e)<0||+t.children[s].getAttribute(e)>0){n(t.replaceChild(t.children[s],t.children[a]),t.children[a])}}else{console.log("2");for(let s=a;s<t.children.length;s++)if(+t.children[a].getAttribute(e)>+t.children[s].getAttribute(e)&&(+t.children[a].getAttribute(e)&&+t.children[s].getAttribute(e))>=0){n(t.replaceChild(t.children[s],t.children[a]),t.children[a])}}else{console.log("1");for(let s=a;s<t.children.length;s++)if(+t.children[a].getAttribute(e)<0||+t.children[s].getAttribute(e)>0){n(t.replaceChild(t.children[s],t.children[a]),t.children[a])}}}("data-sort-filter",s,"all"==e.target.dataset.filterButton&&!r.variables.multiple,"less"==e.target.dataset.filterButton?"less":"more"==e.target.dataset.filterButton?"more":"popular"==e.target.dataset.filterButton&&"popular"):e.target.classList.remove("_active")}s(e)}}e&&e.addEventListener("click",(function(e){"en"==document.documentElement.getAttribute("lang")?document.documentElement.setAttribute("lang","ru"):document.documentElement.setAttribute("lang","en")}));class s{constructor(e,t={}){this.containerNone=e,this.childrenNodes=e.children,this.classes={gridActiveClassName:"adaptive-grid-active",itemClassName:"adaptive-grid-item",activeItem:"adaptive-grid-item-active"},this.event=!1,this.mutation={config:{attributes:!0,childList:!0,subtree:!0,characterData:!0}},this.childrenData=Array.from(this.childrenNodes).map((e=>({childNode:e}))),this.settings={filter:t.filter,grid:t.grid,responive:t.responive||{0:{gap:10,columns:3}}},this.settingsSizes=Object.keys(this.settings.responive).map((e=>Number(e))).sort(((e,t)=>e-t)),this.resize=this.resize.bind(this),this.setEvents(),this.setParaneters(),this.containerNone.classList.add(this.classes.gridActiveClassName),this.childrenData.forEach((e=>e.childNode.classList.add(this.classes.itemClassName)))}callbackMutation=(e,t)=>{for(let t of e){if("attributes"==t.type&&"data-sort-filter"==t.attributeName){this.childrenNodes=this.containerNone.children,this.childrenData=Array.from(this.childrenNodes).map((e=>({childNode:e}))),this.settings.grid&&this.childrenData.forEach((e=>{e.childNode.style.removeProperty("height")})),this.setParaneters();break}"childList"!=t.type&&"characterData"!=t.type||(this.childrenNodes=this.containerNone.children,this.childrenData=Array.from(this.childrenNodes).map((e=>({childNode:e}))),this.settings.grid&&this.childrenData.forEach((e=>{e.childNode.style.removeProperty("height")})),this.setParaneters())}};setEvents(){this.debouncedResize=function(e,t=100){let s;return function(l){clearInterval(s),s=setTimeout(e,t,l)}}(this.resize),window.addEventListener("resize",this.debouncedResize),setTimeout((()=>{if(this.containerNone.hasAttribute("data-filter-body")&&this.settings.filter){new MutationObserver(this.callbackMutation).observe(this.containerNone,this.mutation.config),t()}}),0)}resize(){this.setParaneters()}setParaneters(){const e=this.containerNone.offsetWidth;this.setCurrentSettings(e);const t=(e-this.settings.gap*(this.settings.columns-1))/this.settings.columns;this.setWidth(t),this.childrenData=this.childrenData.map((e=>{if(e.childNode.style.removeProperty("height"),e.childNode.classList.add(this.classes.activeItem),this.settings.filter){console.log(this.settings.filter);const s=-1==e.childNode.dataset.sortFilter;return{...e,opacity:s?0:1,height:s?0:e.childNode.offsetHeight,scale:s?1e-5:1,width:s?0:t}}return{...e,opacity:1,height:e.childNode.offsetHeight,width:t}})),this.setSizeContainer(),this.setPosition(t)}setCurrentSettings(e){let t=0;this.settingsSizes.forEach((s=>{e>=s&&(t=s)})),this.settings.columns=this.settings.responive[t].columns,this.settings.gap=this.settings.responive[t].gap}setWidth(e){this.childrenData.forEach((t=>{t.childNode.style.width=`${e}px`}))}setSizeContainer(){const e=new Array(this.settings.columns).fill(0),t=new Array(this.settings.columns).fill(0);this.childrenData.forEach(((s,l,a)=>{if(this.settings.grid){if(t[l%this.settings.columns]=-1!=a[l].childNode.dataset.sortFilter?s.childNode.offsetHeight:0,(l+1)%this.settings.columns==0||l==a.length-1){const s=t.reduce(((e,t)=>t>e?t:e));for(let i=0;i<e.length;i++)t[i]=0,e[i]+=-1==a[l-i].childNode.dataset.sortFilter?0:s+this.settings.gap;if(1!=this.settings.columns)for(let e=l;e>l-this.settings.columns&&!(e<0);e--)-1!=a[e].childNode.dataset.sortFilter&&(a[e].childNode.style.height+=`${s}px`)}}else t[l%this.settings.columns]=s.height,e[l%this.settings.columns]+=s.height+this.settings.gap}));const s=e.reduce(((e,t)=>t>e?t:e));this.containerNone.style.height=s-this.settings.gap+"px"}setPosition(e){const t=new Array(this.settings.columns).fill(0);this.childrenData=this.childrenData.map(((s,l)=>{const a=l%this.settings.columns,i=a*e+this.settings.gap*a,r=t[a];return t[a]+=s.childNode.offsetHeight+(s.childNode.dataset.sortFilter&&s.childNode.dataset.sortFilter>=0||null==s.childNode.dataset.sortFilter?this.settings.gap:0),{...s,left:i,top:r}})),this.childrenData.forEach((e=>{e.childNode.style.transform=e.scale?`translate3d(${e.left}px, ${e.top}px, 0) scale(${e.scale})`:`translate3d(${e.left}px, ${e.top}px, 0)`,this.settings.filter&&(e.childNode.classList.remove(this.classes.activeItem),e.opacity&&e.childNode.classList.add(this.classes.activeItem))}))}}const l=setInterval((function(){i.length&&i.forEach(((e,t)=>{try{a[t]=document.fonts.check(`16px ${e}`)}catch(e){return console.info("CSS font loading API error",e),void r()}}));a.every((e=>!0===e))&&r()}),25),a=[],i=window.getComputedStyle(document.body).fontFamily.replace(" ","").split(",");function r(){clearInterval(l),document.querySelector(".cards-mainscreen_one")&&new s(document.querySelector(".cards-mainscreen_one"),{filter:!0,grid:!1,responive:{0:{columns:1,gap:20},700:{columns:2,gap:20},1e3:{columns:3,gap:20}}}),document.querySelector(".cards-mainscreen_second")&&new s(document.querySelector(".cards-mainscreen_second"),{filter:!0,grid:!0,responive:{0:{columns:1,gap:20},700:{columns:2,gap:20},1e3:{columns:4,gap:20}}}),document.querySelector(".cards-mainscreen_three")&&new s(document.querySelector(".cards-mainscreen_three"),{filter:!0,grid:!1,responive:{0:{columns:1,gap:20},700:{columns:2,gap:20},1e3:{columns:4,gap:20}}}),document.querySelector(".cards-mainscreen_price")&&new s(document.querySelector(".cards-mainscreen_price"),{filter:!0,grid:!1,responive:{0:{columns:1,gap:20},700:{columns:2,gap:20},1e3:{columns:4,gap:20}}}),document.querySelector(".cursor-castom")&&new s(document.querySelector(".cursor-castom"),{filter:!1,grid:!1,responive:{0:{columns:1,gap:20},700:{columns:2,gap:20},1e3:{columns:3,gap:20}}})}})),window.FLS=!1,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),function(){const e=document.querySelectorAll("[data-timer]");e.length&&e.forEach((e=>{const t=e.hasAttribute("data-timer-end")&&""!==e.getAttribute("data-timer-end")?e.getAttribute("data-timer-end"):0,s={days:{ru:["День","Дня","Дней"],en:["Day","Day","Days"]},hours:{ru:["Час","Часа","Часов"],en:["Hour","Hours","Hours"]},minutes:{ru:["Минута","Минуты","Минут"],en:["Minute","Minutes","Minutes"]},seconds:{ru:["Секунда","Секунды","Секунд"],en:["Second","Seconds","Seconds"]}};((e,t)=>{const l=e.querySelector("[data-timer-days]"),a=e.querySelector("[data-timer-hours]"),i=e.querySelector("[data-timer-minutes]"),r=e.querySelector("[data-timer-seconds]"),c=e.querySelector("[data-timer-days-text]"),n=e.querySelector("[data-timer-hours-text]"),o=e.querySelector("[data-timer-minutes-text]"),d=e.querySelector("[data-timer-seconds-text]"),h=setInterval(g,1e3);function u(e){return e<10?`0${e}`:e}function m(e,t,s,l){e&&(e.classList.contains("active")&&e.classList.remove("active"),+e.innerText!=+s&&+e.innerText>=0&&e.classList.add("active"),e.textContent=u(s),t&&(t.textContent=function(e,t){return t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}(u(s),l)))}function g(){const e=(e=>{let t,s,l,a,i=Date.parse(e)-Date.parse(new Date);return i<=0?t=s=l=a=0:(t=Math.floor(i/864e5),s=Math.floor(i/36e5%24),l=Math.floor(i/6e4%60),a=Math.floor(i/1e3%60)),{total:i,days:t,hours:s,minutes:l,seconds:a}})(t),u=document.documentElement.getAttribute("lang");m(l,c,e.days,s.days[u]),m(a,n,e.hours,s.hours[u]),m(i,o,e.minutes,s.minutes[u]),m(r,d,e.seconds,s.seconds[u]),e.total<=0&&clearInterval(h)}g()})(e,t)}))}(),function(e=!1){const s=document.querySelector("[data-custom-cursor]");if(s&&!t.any()){"double"===s.dataset.customCursor&&(e=!0);let l,a=document.createElement("div"),i={cursorOne:"cursor-1",cursorSecond:"cursor-2",mouseEnter:"mouse-enter",mouseDown:"mouse-down",noCursor:"nocursor"},r=(e,t,s)=>s?e.classList.add(t):e.classList.remove(t),c=(e,t)=>t?Number.parseInt(window.getComputedStyle(e).width):Number.parseInt(window.getComputedStyle(e).height);r(a,i.cursorOne,"add"),r(document.documentElement,i.noCursor,"add"),r(document.body,i.noCursor,"add"),s.insertAdjacentElement("beforeend",a);let n,o,d=c(a,"width"),h=c(a);function u(t,s,c){const{mouseEnter:u,mouseDown:m}=i;"mouseout"===t.type?(a.style.opacity+=0,e&&(l.style.opacity+=0)):"mousemove"===t.type?(a.style.removeProperty("opacity"),e&&l.style.removeProperty("opacity"),s=t.clientX,c=t.clientY,t.target.closest("button")||t.target.closest("a")||t.target.closest("input")||"none"!==window.getComputedStyle(t.target).cursor&&"default"!==window.getComputedStyle(t.target).cursor?(r(a,u,"add"),e&&r(l,u,"add")):(r(a,u),e&&r(l,u))):"mousedown"===t.type?(r(a,m,"add"),e&&r(l,m,"add")):"mouseup"===t.type&&(r(a,m),e&&r(l,m)),a.style.transform=`translate3d(${s-d/2}px, ${c-h/2}px, 0)`,e&&(l.style.transform=`translate3d(${s-n/2}px, ${c-o/2}px, 0)`)}e&&(l=document.createElement("div"),r(l,i.cursorSecond,"add"),s.insertAdjacentElement("beforeend",l),n=c(l,"width"),o=c(l)),window.addEventListener("mouseup",u),window.addEventListener("mousedown",u),window.addEventListener("mousemove",u),window.addEventListener("mouseout",u)}}(),function(){const e=document.querySelectorAll("input[data-tel-input]");let t=function(e){return e.value.replace(/\D/g,"")},s=function(e){let s=e.target,l=t(s),a="",i=s.selectionStart;if(s.hasAttribute("placeholder")&&s.getAttribute("placeholder").replace(/[^\d\+\_\()\)\-]/g,"").length){let e=s.getAttribute("placeholder").replace(/[^\d\+\_\()\)\-\' ']/g,"").length;void 0!==e&&s.setAttribute("maxlength",e)}if(!l)return s.value="";if(s.value.length===i){if(["7","8","9"].indexOf(l[0])>-1){a=("8"==l[0]?"8":"+7")+" ",l.length>1&&(a+="("+l.substring(1,4)),l.length>=5&&(a+=") "+l.substring(4,7)),l.length>=8&&(a+="-"+l.substring(7,9)),l.length>=10&&(a+="-"+l.substring(9,11))}else a="+"+l.substring(0,18);s.value=a}else e.data&&/\D/g.test(e.data)&&(s.value=l)},l=function(e){let s=e.target;8==e.keyCode&&1==t(s).length&&(s.value="")},a=function(e){let s=e.clipboardData||window.clipboardData,l=e.target,a=t(l);if(s){let e=s.getData("Text");/\D/g.test(e)&&(l.value=a)}};for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("input",s),i.addEventListener("keydown",l),i.addEventListener("paste",a)}}()})();